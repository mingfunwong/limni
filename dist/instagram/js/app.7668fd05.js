(function(e){function t(t){for(var n,r,c=t[0],o=t[1],l=t[2],f=0,d=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push(["1d50","chunk-vendors"]),a()})({"06b1":function(e,t,a){"use strict";var n=a("3d18"),i=a.n(n);i.a},"0b1a":function(e,t,a){e.exports=a.p+"img/feed3.596a6993.jpg"},1390:function(e,t,a){"use strict";var n=a("b202"),i=a.n(n);i.a},"1d50":function(e,t,a){"use strict";a.r(t);var n=a("e832"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"camera-mode":e.isCameraOpen},attrs:{id:"app"}},[a("router-view")],1)},s=[],r=a("94ea"),c={computed:{...Object(r["c"])(["isCameraOpen"])}},o=c,l=(a("e5cd"),a("a6c2")),u=Object(l["a"])(o,i,s,!1,null,null,null),f=u.exports,d=a("4af9"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("app-bar",{attrs:{left:"camera",right:"paper-plane",title:"Instagram"},on:{left:e.toggleCamera}}),a("navigation"),a("friend-list"),a("feed-list"),a("bottom-tabs"),a("camera")],1)},m=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-bar"},[a("span",{staticClass:"app-bar_l",on:{click:function(t){return e.$emit("left")}}},[a("i",{class:["fa","fa-"+e.left]})]),a("h1",[e._v(e._s(e.title))]),a("span",{staticClass:"app-bar_r",on:{click:function(t){return e.$emit("right")}}},[a("i",{class:["fa","fa-"+e.right]})])])},v=[],g={props:{title:{type:String,default:""},left:{type:String,default:"chevron-left"},right:{type:String,default:"ellipsis-v"}}},b=g,_=(a("6f54"),Object(l["a"])(b,p,v,!1,null,null,null)),w=_.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navigation"},[a("h2",{staticClass:"navigation_title"},[e._v("\n    Stories\n  ")]),a("aside",{staticClass:"navigation_more"},[a("span",{staticClass:"navigation_caret"},[a("i",{staticClass:"fa fa-caret-right"})]),e._v("\n    Watch all\n  ")])])}],y={},O=y,j=(a("06b1"),Object(l["a"])(O,C,x,!1,null,null,null)),k=j.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"friend-list-scroll"},[a("div",{staticClass:"friend-list"},[a("ul",{style:{width:71*(e.friends.length+1)+"px"}},[a("li",[a("mine")],1),e._l(e.friends,(function(e){return a("li",{key:e.id},[a("friend",{attrs:{friend:e}})],1)}))],2)])])},P=[],I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mine"},[a("span",{staticClass:"mine_face",style:{backgroundImage:"url("+e.mine.faceUrl+")"}}),a("span",{staticClass:"mine_name"},[e._v("Your Story")])])},E=[],F={computed:{...Object(r["c"])(["mine"])}},U=F,M=(a("9395"),Object(l["a"])(U,I,E,!1,null,null,null)),S=M.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"friend"},[a("span",{staticClass:"friend_face",style:{backgroundImage:"url("+e.friend.faceUrl+")"}}),a("span",{staticClass:"friend_name"},[e._v(e._s(e.friend.name))])])},X=[],N={props:{friend:Object}},H=N,z=(a("452e"),Object(l["a"])(H,T,X,!1,null,null,null)),L=z.exports,W={components:{Mine:S,Friend:L},computed:{...Object(r["c"])(["friends"])}},D=W,B=(a("1390"),Object(l["a"])(D,$,P,!1,null,null,null)),J=B.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feed-list"},[a("ul",e._l(e.feeds,(function(e){return a("li",{key:e.id},[a("feed",{attrs:{feed:e}})],1)})),0)])},A=[],G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feed"},[a("div",{staticClass:"feed_image"},[a("div",{staticClass:"feed_image_shadow",style:e.shadowFilter}),a("div",{staticClass:"feed_image_mask"},[a("img",{style:e.imageFilter,attrs:{src:e.feed.imageUrl}})])]),a("div",{staticClass:"feed_meta"},[a("friend",{attrs:{friend:e.feed.author}})],1),e._m(0),a("div",{staticClass:"feed_content"},[a("p",[a("i",{staticClass:"fa fa-heart"}),a("span",{staticClass:"feed_content_text"},[e._v(e._s(e.feed.like)+" Likes")])]),a("p",[e._v("\n      "+e._s(e.feed.author.name)+"\n      "),a("span",{staticClass:"feed_content_text",domProps:{innerHTML:e._s(e.emphasizeContent)}})])])])},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"feed_action"},[a("span",[a("i",{staticClass:"fa fa-heart-o"})]),a("span",[a("i",{staticClass:"fa fa-bookmark-o"})]),a("span",[a("i",{staticClass:"fa fa-tv"})]),a("span",{staticClass:"feed_action_gap"}),a("span",[a("i",{staticClass:"fa fa-paper-plane-o"})])])}];async function q(e){return new Promise(t=>setTimeout(t,e))}function K(e,t=""){return Object.keys(e).reduce((t,a)=>(t+=` ${a}(${e[a]})`,t),t)}function Q(e,t,a,n,i){let s={r:0,g:0,b:0,a:0},r=0;for(let c=-5;c<=5;c++)for(let o=-5;o<=5;o++){const l=a+c,u=t+o;if(u<0||u>=n||l<0||l>=i)continue;const f=4*(l*n+u);s.r+=e[f+0],s.g+=e[f+1],s.b+=e[f+2],s.a+=e[f+3],r++}return s.r/=r,s.g/=r,s.b/=r,s.a/=r,s}var V={components:{Friend:L},props:{feed:Object},computed:{imageFilter(){return{filter:K(this.feed.filter)}},shadowFilter(){return{filter:K(this.feed.filter,"blur(6px)"),backgroundImage:`url(${this.feed.imageUrl})`}},emphasizeContent(){const e=this.feed.content;return e.replace(/(#[^\s]+)/g,"<em>$1</em>")}}},Z=V,ee=(a("afa7"),Object(l["a"])(Z,G,Y,!1,null,null,null)),te=ee.exports,ae={components:{Feed:te},computed:{...Object(r["c"])(["feeds"])}},ne=ae,ie=Object(l["a"])(ne,R,A,!1,null,null,null),se=ie.exports,re=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ce=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom-tabs"},[a("span",[a("i",{staticClass:"fa fa-home"})]),a("span",[a("i",{staticClass:"fa fa-search"})]),a("span",[a("i",{staticClass:"fa fa-instagram"})]),a("span",[a("i",{staticClass:"fa fa-heart-o"})]),a("span",[a("i",{staticClass:"fa fa-user-o"})])])}],oe=(a("ba8e"),{}),le=Object(l["a"])(oe,re,ce,!1,null,null,null),ue=le.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"},on:{afterEnter:e.initCamera,beforeLeave:e.destroyCamera}},[e.isCameraOpen?a("div",{staticClass:"camera",on:{touchstart:e.handleTouchStart,touchmove:e.handleTouchMove,touchend:e.handleTouchEnd}},[a("video",{ref:"video",style:e.currentFilter,attrs:{autoplay:"",playsinline:""}}),a("canvas",{directives:[{name:"show",rawName:"v-show",value:e.isPreviewing,expression:"isPreviewing"}],ref:"canvas",style:e.currentFilter}),a("div",{staticClass:"camera_mask"}),a("div",{staticClass:"camera_filter"},[a("ul",{style:{width:100*e.filters.length+"%"}},e._l(e.filters,(function(t,n){return a("li",{key:n,class:{camera_filter_current:n===e.currentIndex},style:{transform:"translateX(-"+100*e.currentIndex+"%)"}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),0)]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.isPreviewing,expression:"isPreviewing"}],staticClass:"camera_btn-cancel",on:{click:e.resetCamera}},[a("i",{staticClass:"fa fa-chevron-left"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:e.isPreviewing,expression:"isPreviewing"}],staticClass:"camera_btn-save",on:{click:e.savePicture}},[a("i",{staticClass:"fa fa-check"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewing,expression:"!isPreviewing"}],staticClass:"camera_btn-close",on:{click:e.toggleCamera}},[a("i",{staticClass:"fa fa-close"})]),a("button",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewing,expression:"!isPreviewing"}],staticClass:"camera_btn-take",on:{click:e.takePicture}})]):e._e()])},de=[],he={data(){return{isPreviewing:!1,currentIndex:0}},computed:{...Object(r["c"])(["mine","filters","isCameraOpen"]),currentFilter(){const e=this.filters[this.currentIndex].params;return{filter:Object.keys(e).reduce((t,a)=>(t+=` ${a}(${e[a]})`,t),"")}}},mounted(){this.touch={}},methods:{...Object(r["b"])(["toggleCamera","addFeed"]),nextFilter(){this.currentIndex<this.filters.length-1&&this.currentIndex++},prevFilter(){this.currentIndex>0&&this.currentIndex--},async initCamera(){if(this.stream)return;const e=this.$refs.video;e.width=window.innerWidth,e.height=window.innerHeight;const t=await navigator.mediaDevices.getUserMedia({video:{width:window.innerWidth,height:window.innerHeight}});this.stream=t,e.srcObject=t},destroyCamera(){this.stream&&(this.$refs.video.srcObject=null,this.stream.getTracks().forEach(e=>{e.stop()}),this.stream=null)},savePicture(){const e=document.createElement("canvas");e.width=window.innerWidth,e.height=window.innerWidth;const t=e.getContext("2d");t.drawImage(this.$refs.canvas,0,160,e.width,e.width,0,0,e.width,e.width);const a=e.toDataURL();this.addFeed({like:"0",content:"My #New-Ins",imageUrl:a,author:{...this.mine},filter:{...this.filters[this.currentIndex].params}}),this.toggleCamera()},async takePicture(){const e=this.$refs.video;this.drawImage(e,window.innerWidth,window.innerHeight),await q(300),this.destroyCamera()},async resetCamera(){this.initCamera(),this.blurImage(),await q(600),this.clearImage()},drawImage(e,t,a){const n=this.$refs.canvas;n.width=t,n.height=a;const i=n.getContext("2d");i.drawImage(e,0,0,t,a),this.isPreviewing=!0},blurImage(){const e=this.$refs.canvas,t=e.getContext("2d"),a=t.getImageData(0,0,e.width,e.height),n=a.data,i=e.width,s=e.height,r=[];for(let c=0;c<s;c++)for(let e=0;e<i;e++)r.push(Q(n,e,c,i,s));for(let c=0;c<r.length;c++)n[4*c+0]=r[c].r,n[4*c+1]=r[c].g,n[4*c+2]=r[c].b,n[4*c+3]=r[c].a;t.putImageData(a,0,0)},clearImage(){const e=this.$refs.canvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.isPreviewing=!1},handleTouchStart(e){this.touch.startX=e.touches[0].clientX,this.touch.endX=0},handleTouchMove(e){this.touch.endX=e.touches[0].clientX},handleTouchEnd(){!this.touch.endX||Math.abs(this.touch.endX-this.touch.startX)<10||(this.touch.endX<this.touch.startX?this.nextFilter():this.prevFilter())}}},me=he,pe=(a("db37"),Object(l["a"])(me,fe,de,!1,null,null,null)),ve=pe.exports,ge={components:{AppBar:w,Navigation:k,FriendList:J,FeedList:se,BottomTabs:ue,Camera:ve},methods:{...Object(r["b"])(["toggleCamera"])}},be=ge,_e=(a("9e99"),Object(l["a"])(be,h,m,!1,null,null,null)),we=_e.exports;n["a"].use(d["a"]);const Ce=[{path:"/",name:"home",component:we}],xe=new d["a"]({base:"",routes:Ce});var ye=xe;n["a"].use(r["a"]);var Oe=new r["a"].Store({state:{mine:{id:0,name:"liz.c",faceUrl:a("da7f")},friends:[{id:1,name:"velo.sid",faceUrl:a("35a6")},{id:2,name:"chris.a",faceUrl:a("8987")},{id:3,name:"de.nevilor",faceUrl:a("760c")},{id:4,name:"zachreli",faceUrl:a("be0c")}],feeds:[{id:1,like:"2,234",content:"Hi!! #neonphotoset",imageUrl:a("0b1a"),author:{name:"chris.a",faceUrl:a("8987")},filter:{}},{id:2,like:"2,234",content:"Hi!! #neonphotoset",imageUrl:a("3b3b"),author:{name:"liz.c",faceUrl:a("da7f")},filter:{brightness:1.1,contrast:1.1}},{id:3,like:"2,234",content:"Hi!! #neonphotoset",imageUrl:a("da11"),author:{name:"liz.c",faceUrl:a("da7f")},filter:{}}],filters:[{name:"Normal",params:{}},{name:"Clarendon",params:{brightness:1.1,contrast:1.1,saturate:1.1,"hue-rotate":"-10deg"}},{name:"Gingham",params:{brightness:1.1,contrast:.7,saturate:1.2,"hue-rotate":"-10deg"}},{name:"Moon",params:{contrast:1.07,grayscale:1}}],isCameraOpen:!1},mutations:{toggleCamera(e){e.isCameraOpen=!e.isCameraOpen},addFeed(e,t){t.id=Math.floor(100*Math.random()),e.feeds=[t,...e.feeds]}},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:ye,store:Oe,render:e=>e(f)}).$mount("#app")},2036:function(e,t,a){},2053:function(e,t,a){},"35a6":function(e,t,a){e.exports=a.p+"img/face1.6dd3c77d.jpeg"},"3b3b":function(e,t,a){e.exports=a.p+"img/feed1.c9b7247a.jpg"},"3d18":function(e,t,a){},"452e":function(e,t,a){"use strict";var n=a("5d70"),i=a.n(n);i.a},"5d70":function(e,t,a){},"6f54":function(e,t,a){"use strict";var n=a("7077"),i=a.n(n);i.a},7077:function(e,t,a){},"760c":function(e,t,a){e.exports=a.p+"img/face3.66583c69.jpeg"},7861:function(e,t,a){},8987:function(e,t,a){e.exports=a.p+"img/face2.140759d9.jpeg"},"8cee":function(e,t,a){},9395:function(e,t,a){"use strict";var n=a("7861"),i=a.n(n);i.a},"9e99":function(e,t,a){"use strict";var n=a("d8cc"),i=a.n(n);i.a},afa7:function(e,t,a){"use strict";var n=a("e403"),i=a.n(n);i.a},b202:function(e,t,a){},ba8e:function(e,t,a){"use strict";var n=a("8cee"),i=a.n(n);i.a},be0c:function(e,t,a){e.exports=a.p+"img/face4.7ffba575.jpeg"},d8cc:function(e,t,a){},da11:function(e,t,a){e.exports=a.p+"img/feed2.fea76b4c.jpg"},da7f:function(e,t,a){e.exports=a.p+"img/face.ab84b391.jpeg"},db37:function(e,t,a){"use strict";var n=a("2053"),i=a.n(n);i.a},e403:function(e,t,a){},e5cd:function(e,t,a){"use strict";var n=a("2036"),i=a.n(n);i.a}});
//# sourceMappingURL=app.7668fd05.js.map